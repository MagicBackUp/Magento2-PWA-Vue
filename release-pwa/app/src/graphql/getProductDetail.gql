input ProductAttributeFilterInput {
    url_key: FilterEqualTypeInput!
}

input FilterEqualTypeInput {
    eq: String
    in: [String]
}

fragment configurable on ConfigurableProduct {
    configurable_options {
        attribute_code
        attribute_id
        id
        product_id
        label
        values {
            label
            value_index
        } 
    }
}

query getProductDetail($filter: ProductAttributeFilterInput!) {
    products(filter: $filter) {
        items {
            id
            sku
            name
            type_id
            url_key
            attribute_set_id
            canonical_url
            price_range {
                minimum_price {
                    final_price {
                        value
                    }
                }
            }
            thumbnail {
                label
                url
            }
            small_image {
                label
                url
            }
            short_description {
                html
            }     
            ...configurable
            special_price
            stock_status
            meta_title
            meta_keyword
            meta_description
            description {
                html
            }
            media_gallery {
                label
                url
            }
            product_links {
                link_type
                linked_product_sku
                position
            }
            categories {
                name
                url_path
                breadcrumbs {
                    category_name
                    category_url_key
                    category_url_path
                }
            }
            new_from_date
            new_to_date
            special_from_date
            special_to_date
        }
    }
}
